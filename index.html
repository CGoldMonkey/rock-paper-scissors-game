<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock, Paper, Scissors</title>
    </head>
    <body>
        <script>

            let playerScore = 0;
            let compScore = 0;

            //game to be played against computer
            //function will randomly return either 'Rock', 'Paper', or 'Scissors'
            function computerPlay() {
                let computerMove;
                let decision = Math.floor(Math.random()*3) + 1; //returns random interger from one to three
                switch(decision) {
                    case 1:
                      computerMove = 'Rock';
                      break;
                    case 2: 
                    computerMove = 'Paper';
                      break;
                    case 3: 
                    computerMove = 'Scissors';
                      break;
                }
                return computerMove;
            }

            //plays a single round of RPS and returns string that declares winner
            // like so "You Lose. Paper beats Rock"    
            function playRound(playerSelection, computerSelection) {
                let playerMove = playerSelection.toLowerCase(); //put to lowerCase to check
                let compMove = computerSelection.toLowerCase(); //lowercase to compare
                
                let roundDecision; //hold the string that declares the winner

                let rockWin = (playerMove === 'rock' && compMove === 'scissors');//player wins with rock if comp has scissors
                let paperWin = (playerMove === 'paper'&&compMove === 'rock');
                let scissorsWin = (playerMove === 'scissors'&&compMove === 'paper')

                if(playerMove === compMove) { //if both equal, tie
                    roundDecision = `It's a Tie. ${playerSelection} cancels ${computerSelection}`;
                } else if(rockWin || paperWin || scissorsWin) {
                    roundDecision = `You Win. ${playerSelection} beats ${computerSelection}`;
                    playerScore++;
                } else {
                    roundDecision = `You Lose. ${playerSelection} loses to ${computerSelection}`;
                    compScore++;
                }
                return roundDecision;
            }

            function getScore() {
                let score = `Player Score: ${playerScore} vs. Computer Score: ${compScore}`;
                return score;
            }

            function finalScore() {
                let finalResult = 'After 5 rounds, ' + getScore();

                if(playerScore > compScore) {
                    finalResult = finalResult +' The Player Wins!!!';
                } else if(playerScore < compScore) {
                    finalResult = finalResult + ' The Computer Wins!!!';
                } else { //its a ties
                    finalResult = finalResult + ' We have a Tie folks!!!';
                }
                return finalResult;
            }
            
            //plays a 5 round game that keeps score and reports a winner and loser at the end
            function game() {
                playerInput = window.prompt('Please input "rock", "paper", or "scissors".');
                console.log(playRound(playerInput, computerPlay()));
                console.log(getScore());
                playerInput = window.prompt('Please input "rock", "paper", or "scissors".');
                console.log(playRound(playerInput, computerPlay()));
                console.log(getScore());
                playerInput = window.prompt('Please input "rock", "paper", or "scissors".');
                console.log(playRound(playerInput, computerPlay()));
                console.log(getScore());
                playerInput = window.prompt('Please input "rock", "paper", or "scissors".');
                console.log(playRound(playerInput, computerPlay()));
                console.log(getScore());
                playerInput = window.prompt('Please input "rock", "paper", or "scissors".');
                console.log(playRound(playerInput, computerPlay()));
                console.log(finalScore());
            }

            game()
        </script>
    </body>
</html>